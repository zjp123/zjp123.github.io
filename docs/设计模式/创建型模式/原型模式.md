# ã€Šå‰ç«¯è®¾è®¡æ¨¡å¼å®æˆ˜æ‰‹å†Œã€‹

## ç¬¬äº”ç« ï¼šåŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰

---

### ğŸ¯ ä¸€å¥è¯å¤§ç™½è¯

> **åŸå‹æ¨¡å¼å°±åƒ"å¤åˆ¶ç²˜è´´"ï¼šä½ æœ‰ä¸€ä»½å®Œç¾çš„ç®€å†æ¨¡æ¿ï¼Œæ¯æ¬¡éœ€è¦æŠ•é€’æ–°å…¬å¸æ—¶ï¼Œä¸æ˜¯ä»å¤´å†™ä¸€ä»½ï¼Œè€Œæ˜¯å¤åˆ¶è¿™ä»½æ¨¡æ¿ï¼Œç„¶ååªä¿®æ”¹å…¬å¸åç§°å’Œå²—ä½ï¼Œå…¶ä»–æ ¼å¼ã€å†…å®¹éƒ½ä¿æŒä¸å˜ã€‚**

**æ ¸å¿ƒç†å¿µï¼šé€šè¿‡å¤åˆ¶ï¼ˆå…‹éš†ï¼‰ç°æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯é€šè¿‡æ„é€ å‡½æ•°é‡æ–°æ„å»ºã€‚**

---

### ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦"å¤åˆ¶"è€Œä¸æ˜¯"æ–°å»º"ï¼Ÿ

åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæœ‰äº›åœºæ™¯ä¸‹"å¤åˆ¶"æ¯”"æ–°å»º"æ›´åˆé€‚ï¼š

| åœºæ™¯ | ä¸ºä»€ä¹ˆéœ€è¦åŸå‹æ¨¡å¼ |
|------|------------------|
| **è¡¨å•æ¨¡æ¿** | åˆ›å»ºæ–°è¡¨å•æ—¶ï¼ŒåŸºäºæ¨¡æ¿å¤åˆ¶ï¼Œé¿å…é‡å¤é…ç½® |
| **è¡¨æ ¼è¡Œæ•°æ®** | æ–°å¢è¡Œæ—¶ï¼Œå¤åˆ¶ç°æœ‰è¡Œçš„ç»“æ„ï¼Œåªä¿®æ”¹å…³é”®å­—æ®µ |
| **ç»„ä»¶é…ç½®** | åˆ›å»ºç›¸ä¼¼ç»„ä»¶æ—¶ï¼Œå¤åˆ¶é…ç½®æ¨¡æ¿ |
| **å›¾è¡¨é…ç½®** | å¤šä¸ªå›¾è¡¨æ ·å¼ç›¸ä¼¼ï¼ŒåŸºäºæ¨¡æ¿å¤åˆ¶ |
| **æ•°æ®å¯¹è±¡** | éœ€è¦ä¿®æ”¹å¯¹è±¡ä½†ä¸æƒ³å½±å“åŸå¯¹è±¡æ—¶ï¼Œå…ˆå¤åˆ¶å†æ”¹ |
| **æ’¤é”€/é‡åš** | ä¿å­˜å¯¹è±¡å¿«ç…§ï¼Œéœ€è¦æ—¶æ¢å¤ |

---

### ğŸ˜« å‰ç«¯ç—›ç‚¹ï¼šæ²¡æœ‰åŸå‹æ¨¡å¼æ—¶çš„å™©æ¢¦

#### åœºæ™¯ä¸€ï¼šè¡¨å•é…ç½®é‡å¤

```tsx
// âŒ å™©æ¢¦ä»£ç ï¼šæ¯æ¬¡åˆ›å»ºè¡¨å•éƒ½è¦å†™ä¸€éå®Œæ•´é…ç½®

// åˆ›å»ºç”¨æˆ·è¡¨å•
const userForm1 = {
  labelCol: { span: 6 },
  wrapperCol: { span: 18 },
  layout: 'horizontal',
  size: 'middle',
  colon: true,
  requiredMark: true,
  validateTrigger: 'onChange',
  scrollToFirstError: true,
  // ... è¿˜æœ‰ 20 å¤šä¸ªé…ç½®é¡¹
};

// åˆ›å»ºè®¢å•è¡¨å• - åˆè¦å†™ä¸€éå‡ ä¹ä¸€æ ·çš„é…ç½®
const orderForm1 = {
  labelCol: { span: 6 },
  wrapperCol: { span: 18 },
  layout: 'horizontal',
  size: 'middle',
  colon: true,
  requiredMark: true,
  validateTrigger: 'onChange',
  scrollToFirstError: true,
  // ... é‡å¤ä»£ç 
};

// åˆ›å»ºäº§å“è¡¨å• - å†å†™ä¸€é...
const productForm1 = {
  // ... åˆæ˜¯é‡å¤ä»£ç 
};

// é—®é¢˜ï¼š
// 1. ä»£ç é‡å¤ï¼Œç»´æŠ¤å›°éš¾
// 2. è¦æ”¹é»˜è®¤é…ç½®ï¼Ÿæ”¹ N ä¸ªåœ°æ–¹
// 3. å®¹æ˜“é—æ¼æŸä¸ªé…ç½®é¡¹
```

#### åœºæ™¯äºŒï¼šå¯¹è±¡ä¿®æ”¹å½±å“åŸå¯¹è±¡

```tsx
// âŒ å™©æ¢¦ä»£ç ï¼šæµ…æ‹·è´å¯¼è‡´çš„é—®é¢˜

const defaultUser = {
  name: 'å¼ ä¸‰',
  age: 25,
  address: {
    city: 'åŒ—äº¬',
    district: 'æœé˜³åŒº',
  },
  tags: ['å‰ç«¯', 'React'],
};

// åˆ›å»ºæ–°ç”¨æˆ·ï¼ŒåŸºäºé»˜è®¤ç”¨æˆ·ä¿®æ”¹
const newUser = defaultUser;  // åªæ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å¤åˆ¶ï¼
newUser.name = 'æå››';
newUser.age = 30;
newUser.address.city = 'ä¸Šæµ·';  // ä¿®æ”¹äº†åŸå¯¹è±¡çš„ addressï¼

console.log(defaultUser.address.city);  // 'ä¸Šæµ·'ï¼åŸå¯¹è±¡è¢«æ”¹äº†ï¼

// é—®é¢˜ï¼š
// 1. ä¿®æ”¹æ–°å¯¹è±¡æ—¶ï¼Œä¸å°å¿ƒæ”¹äº†åŸå¯¹è±¡
// 2. å¯¼è‡´éš¾ä»¥è¿½è¸ªçš„ bug
// 3. éœ€è¦æ‰‹åŠ¨æ·±æ‹·è´ï¼Œä»£ç å†—é•¿
```

#### åœºæ™¯ä¸‰ï¼šè¡¨æ ¼è¡Œæ¨¡æ¿

```tsx
// âŒ å™©æ¢¦ä»£ç ï¼šæ¯æ¬¡æ–°å¢è¡Œéƒ½è¦æ‰‹åŠ¨æ„å»ºå¯¹è±¡

const addTableRow = () => {
  // æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨å†™ä¸€éæ‰€æœ‰å­—æ®µ
  const newRow = {
    id: generateId(),
    name: '',
    email: '',
    phone: '',
    status: 'active',
    createdAt: new Date(),
    updatedAt: new Date(),
    metadata: {
      source: 'manual',
      tags: [],
    },
    // ... è¿˜æœ‰æ›´å¤šå­—æ®µ
  };
  
  setRows([...rows, newRow]);
};

// é—®é¢˜ï¼š
// 1. å­—æ®µå¤šæ—¶ï¼Œä»£ç å†—é•¿
// 2. å®¹æ˜“é—æ¼å­—æ®µ
// 3. å­—æ®µç»“æ„å˜åŒ–æ—¶ï¼Œè¦æ”¹å¾ˆå¤šåœ°æ–¹
```

**è¿™äº›ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ**

| é—®é¢˜ | æè¿° |
|------|------|
| ğŸ”´ **ä»£ç é‡å¤** | ç›¸åŒçš„é…ç½®ã€ç»“æ„é‡å¤å†™ N é |
| ğŸ”´ **ç»´æŠ¤å›°éš¾** | æ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œè¦æ”¹ N ä¸ªåœ°æ–¹ |
| ğŸ”´ **å®¹æ˜“å‡ºé”™** | æµ…æ‹·è´å¯¼è‡´åŸå¯¹è±¡è¢«ä¿®æ”¹ |
| ğŸ”´ **æ€§èƒ½é—®é¢˜** | æ¯æ¬¡éƒ½é‡æ–°æ„å»ºå¯¹è±¡ï¼Œæµªè´¹èµ„æº |

---

### ğŸ’¡ æ¨¡å¼æ ¸å¿ƒæ¦‚å¿µ

åŸå‹æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

> **ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡å¤åˆ¶è¿™ä¸ªåŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚**

ç”¨å¤§ç™½è¯è¯´å°±æ˜¯ï¼š
- æœ‰ä¸€ä¸ª"æ¨¡æ¿å¯¹è±¡"ï¼ˆåŸå‹ï¼‰
- éœ€è¦æ–°å¯¹è±¡æ—¶ï¼Œå¤åˆ¶è¿™ä¸ªæ¨¡æ¿
- ç„¶ååªä¿®æ”¹éœ€è¦å˜åŒ–çš„éƒ¨åˆ†
- é¿å…é‡å¤æ„å»ºç›¸åŒçš„ç»“æ„

**JavaScript ä¸­çš„åŸå‹**

JavaScript æœ¬èº«å°±æ˜¯åŸºäºåŸå‹çš„è¯­è¨€ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª `__proto__` å±æ€§æŒ‡å‘å®ƒçš„åŸå‹ï¼š

```tsx
// JavaScript çš„åŸå‹é“¾
const obj = {};
console.log(obj.__proto__ === Object.prototype);  // true

// æ•°ç»„çš„åŸå‹
const arr = [];
console.log(arr.__proto__ === Array.prototype);  // true
```

**åŸå‹æ¨¡å¼çš„ä¸¤ç§å®ç°æ–¹å¼ï¼š**

```
æ–¹å¼ä¸€ï¼šæµ…æ‹·è´ï¼ˆShallow Cloneï¼‰
- åªå¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§
- åµŒå¥—å¯¹è±¡ä»ç„¶æ˜¯å¼•ç”¨
- é€‚åˆç®€å•å¯¹è±¡

æ–¹å¼äºŒï¼šæ·±æ‹·è´ï¼ˆDeep Cloneï¼‰
- é€’å½’å¤åˆ¶æ‰€æœ‰åµŒå¥—å±æ€§
- å®Œå…¨ç‹¬ç«‹çš„æ–°å¯¹è±¡
- é€‚åˆå¤æ‚å¯¹è±¡
```

**ç±»æ¯”ç†è§£ï¼š**

```
æ™®é€šåšæ³•ï¼šæ¯æ¬¡éƒ½è¦é‡æ–°"ç”»"ä¸€å¼ ç”» â†’ è€—æ—¶ã€å®¹æ˜“ç”»é”™
åŸå‹æ¨¡å¼ï¼šå¤å°ä¸€å¼ å·²æœ‰çš„ç”»ï¼Œç„¶ååªä¿®æ”¹éœ€è¦æ”¹çš„åœ°æ–¹ â†’ å¿«é€Ÿã€å‡†ç¡®
```

---

### ğŸ”§ å‰ç«¯å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šè¡¨å•é…ç½®åŸå‹ç®¡ç†å™¨

#### åœºæ™¯æè¿°

åˆ›å»ºä¸€ä¸ªè¡¨å•é…ç½®åŸå‹ç®¡ç†å™¨ï¼Œæ”¯æŒåŸºäºæ¨¡æ¿å¿«é€Ÿåˆ›å»ºè¡¨å•é…ç½®ã€‚

```tsx
// prototypes/FormConfigPrototype.ts

import { FormProps } from 'antd/es/form';

/**
 * è¡¨å•é…ç½®åŸå‹
 * 
 * æä¾›è¡¨å•é…ç½®çš„æ¨¡æ¿å’Œå…‹éš†æ–¹æ³•
 */
export class FormConfigPrototype {
  // ==================== é¢„è®¾æ¨¡æ¿ ====================
  
  /**
   * é»˜è®¤è¡¨å•é…ç½®æ¨¡æ¿
   */
  static readonly DEFAULT: FormProps = {
    labelCol: { span: 6 },
    wrapperCol: { span: 18 },
    layout: 'horizontal',
    size: 'middle',
    colon: true,
    requiredMark: true,
    validateTrigger: 'onChange',
    scrollToFirstError: true,
  };
  
  /**
   * ç´§å‡‘è¡¨å•é…ç½®æ¨¡æ¿
   */
  static readonly COMPACT: FormProps = {
    ...FormConfigPrototype.DEFAULT,
    size: 'small',
    labelCol: { span: 4 },
    wrapperCol: { span: 20 },
  };
  
  /**
   * å‚ç›´å¸ƒå±€è¡¨å•é…ç½®æ¨¡æ¿
   */
  static readonly VERTICAL: FormProps = {
    ...FormConfigPrototype.DEFAULT,
    layout: 'vertical',
    labelCol: undefined,
    wrapperCol: undefined,
  };
  
  /**
   * å†…è”è¡¨å•é…ç½®æ¨¡æ¿
   */
  static readonly INLINE: FormProps = {
    ...FormConfigPrototype.DEFAULT,
    layout: 'inline',
    labelCol: undefined,
    wrapperCol: undefined,
  };
  
  // ==================== å…‹éš†æ–¹æ³• ====================
  
  /**
   * æµ…æ‹·è´è¡¨å•é…ç½®
   */
  static clone(config: FormProps): FormProps {
    return { ...config };
  }
  
  /**
   * åŸºäºæ¨¡æ¿åˆ›å»ºæ–°é…ç½®ï¼ˆåªè¦†ç›–æŒ‡å®šå±æ€§ï¼‰
   */
  static createFrom(template: FormProps, overrides?: Partial<FormProps>): FormProps {
    return {
      ...template,
      ...overrides,
      // æ·±åº¦åˆå¹¶ labelCol å’Œ wrapperCol
      labelCol: overrides?.labelCol || template.labelCol,
      wrapperCol: overrides?.wrapperCol || template.wrapperCol,
    };
  }
  
  /**
   * æ‰¹é‡åˆ›å»ºé…ç½®ï¼ˆåŸºäºåŒä¸€æ¨¡æ¿ï¼‰
   */
  static createMultiple(
    template: FormProps,
    overridesList: Partial<FormProps>[]
  ): FormProps[] {
    return overridesList.map(overrides => 
      FormConfigPrototype.createFrom(template, overrides)
    );
  }
  
  /**
   * æ‰©å±•æ¨¡æ¿ï¼ˆåˆ›å»ºæ–°çš„æ¨¡æ¿ï¼‰
   */
  static extend(template: FormProps, extensions: Partial<FormProps>): FormProps {
    return FormConfigPrototype.createFrom(template, extensions);
  }
}

// å¯¼å‡ºä¾¿æ·æ–¹æ³•
export const formConfig = {
  /**
   * åˆ›å»ºé»˜è®¤è¡¨å•é…ç½®
   */
  default: (overrides?: Partial<FormProps>) => 
    FormConfigPrototype.createFrom(FormConfigPrototype.DEFAULT, overrides),
  
  /**
   * åˆ›å»ºç´§å‡‘è¡¨å•é…ç½®
   */
  compact: (overrides?: Partial<FormProps>) => 
    FormConfigPrototype.createFrom(FormConfigPrototype.COMPACT, overrides),
  
  /**
   * åˆ›å»ºå‚ç›´å¸ƒå±€è¡¨å•é…ç½®
   */
  vertical: (overrides?: Partial<FormProps>) => 
    FormConfigPrototype.createFrom(FormConfigPrototype.VERTICAL, overrides),
  
  /**
   * åˆ›å»ºå†…è”è¡¨å•é…ç½®
   */
  inline: (overrides?: Partial<FormProps>) => 
    FormConfigPrototype.createFrom(FormConfigPrototype.INLINE, overrides),
};
```

#### ä¸šåŠ¡ä¸­ä½¿ç”¨

```tsx
// pages/UserForm.tsx

import React from 'react';
import { Form, Input, Button } from 'antd';
import { formConfig } from '../prototypes/FormConfigPrototype';

export const UserForm: React.FC = () => {
  // âœ… åŸºäºé»˜è®¤æ¨¡æ¿åˆ›å»ºï¼Œåªè¦†ç›–éœ€è¦çš„å±æ€§
  const config = formConfig.default({
    labelCol: { span: 4 },  // åªæ”¹è¿™ä¸€é¡¹
  });
  
  return (
    <Form {...config}>
      <Form.Item name="name" label="å§“å">
        <Input />
      </Form.Item>
      {/* ... */}
    </Form>
  );
};

// pages/OrderForm.tsx

import React from 'react';
import { Form } from 'antd';
import { formConfig } from '../prototypes/FormConfigPrototype';

export const OrderForm: React.FC = () => {
  // âœ… ä½¿ç”¨ç´§å‡‘æ¨¡æ¿
  const config = formConfig.compact();
  
  return (
    <Form {...config}>
      {/* ... */}
    </Form>
  );
};

// pages/SearchForm.tsx

import React from 'react';
import { Form } from 'antd';
import { formConfig } from '../prototypes/FormConfigPrototype';

export const SearchForm: React.FC = () => {
  // âœ… ä½¿ç”¨å†…è”æ¨¡æ¿
  const config = formConfig.inline({
    size: 'small',  // è¦†ç›–ä¸ºå°å°ºå¯¸
  });
  
  return (
    <Form {...config}>
      {/* ... */}
    </Form>
  );
};
```

---

### ğŸ”§ å‰ç«¯å®æˆ˜æ¡ˆä¾‹äºŒï¼šæ·±æ‹·è´å·¥å…·ç±»

#### åœºæ™¯æè¿°

å®ç°ä¸€ä¸ªé€šç”¨çš„æ·±æ‹·è´å·¥å…·ï¼Œæ”¯æŒå„ç§æ•°æ®ç±»å‹çš„å…‹éš†ã€‚

```tsx
// utils/DeepClone.ts

/**
 * æ·±æ‹·è´å·¥å…·ç±»
 * 
 * æ”¯æŒï¼š
 * - åŸºæœ¬ç±»å‹ï¼ˆstring, number, boolean, null, undefinedï¼‰
 * - æ•°ç»„
 * - å¯¹è±¡
 * - Date
 * - RegExp
 * - Set/Map
 * - å¾ªç¯å¼•ç”¨æ£€æµ‹
 * 
 * @example
 * const cloned = DeepClone.clone(original);
 */
export class DeepClone {
  /**
   * æ·±æ‹·è´ä¸»æ–¹æ³•
   */
  static clone<T>(source: T, visited = new WeakMap()): T {
    // null æˆ– undefined
    if (source === null || source === undefined) {
      return source;
    }
    
    // åŸºæœ¬ç±»å‹
    if (typeof source !== 'object') {
      return source;
    }
    
    // æ£€æµ‹å¾ªç¯å¼•ç”¨
    if (visited.has(source as object)) {
      return visited.get(source as object) as T;
    }
    
    // Date
    if (source instanceof Date) {
      const cloned = new Date(source.getTime()) as unknown as T;
      visited.set(source as object, cloned);
      return cloned;
    }
    
    // RegExp
    if (source instanceof RegExp) {
      const cloned = new RegExp(source.source, source.flags) as unknown as T;
      visited.set(source as object, cloned);
      return cloned;
    }
    
    // Array
    if (Array.isArray(source)) {
      const cloned: any[] = [];
      visited.set(source as object, cloned);
      source.forEach((item, index) => {
        cloned[index] = DeepClone.clone(item, visited);
      });
      return cloned as T;
    }
    
    // Set
    if (source instanceof Set) {
      const cloned = new Set();
      visited.set(source as object, cloned);
      source.forEach(value => {
        cloned.add(DeepClone.clone(value, visited));
      });
      return cloned as T;
    }
    
    // Map
    if (source instanceof Map) {
      const cloned = new Map();
      visited.set(source as object, cloned);
      source.forEach((value, key) => {
        cloned.set(
          DeepClone.clone(key, visited),
          DeepClone.clone(value, visited)
        );
      });
      return cloned as T;
    }
    
    // æ™®é€šå¯¹è±¡
    const cloned = {} as T;
    visited.set(source as object, cloned);
    
    // å¤åˆ¶æ‰€æœ‰å±æ€§ï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾çš„ï¼‰
    const allKeys = [
      ...Object.keys(source as object),
      ...Object.getOwnPropertyNames(source as object),
      ...Object.getOwnPropertySymbols(source as object),
    ];
    
    allKeys.forEach(key => {
      const descriptor = Object.getOwnPropertyDescriptor(source as object, key);
      if (descriptor) {
        if (descriptor.value !== undefined) {
          (cloned as any)[key] = DeepClone.clone(descriptor.value, visited);
        } else {
          Object.defineProperty(cloned, key, descriptor);
        }
      }
    });
    
    // å¤åˆ¶åŸå‹é“¾
    const proto = Object.getPrototypeOf(source as object);
    if (proto !== null && proto !== Object.prototype) {
      Object.setPrototypeOf(cloned, proto);
    }
    
    return cloned;
  }
  
  /**
   * æµ…æ‹·è´ï¼ˆåªå¤åˆ¶ç¬¬ä¸€å±‚ï¼‰
   */
  static shallowClone<T>(source: T): T {
    if (source === null || source === undefined) {
      return source;
    }
    
    if (Array.isArray(source)) {
      return [...source] as T;
    }
    
    if (typeof source === 'object') {
      return { ...source };
    }
    
    return source;
  }
  
  /**
   * åˆå¹¶å¯¹è±¡ï¼ˆæ·±æ‹·è´ + åˆå¹¶ï¼‰
   */
  static merge<T extends Record<string, any>>(target: T, ...sources: Partial<T>[]): T {
    const cloned = DeepClone.clone(target);
    
    sources.forEach(source => {
      Object.keys(source).forEach(key => {
        const targetValue = cloned[key];
        const sourceValue = source[key];
        
        if (
          typeof targetValue === 'object' &&
          typeof sourceValue === 'object' &&
          !Array.isArray(targetValue) &&
          !Array.isArray(sourceValue) &&
          targetValue !== null &&
          sourceValue !== null
        ) {
          // é€’å½’åˆå¹¶å¯¹è±¡
          cloned[key] = DeepClone.merge(targetValue, sourceValue);
        } else {
          // ç›´æ¥è¦†ç›–
          cloned[key] = DeepClone.clone(sourceValue);
        }
      });
    });
    
    return cloned;
  }
}

// å¯¼å‡ºä¾¿æ·å‡½æ•°
export const deepClone = <T>(source: T): T => DeepClone.clone(source);
export const shallowClone = <T>(source: T): T => DeepClone.shallowClone(source);
export const merge = <T extends Record<string, any>>(
  target: T,
  ...sources: Partial<T>[]
): T => DeepClone.merge(target, ...sources);
```

#### ä½¿ç”¨ç¤ºä¾‹

```tsx
// components/UserEditor.tsx

import React, { useState } from 'react';
import { Button, Input, Form } from 'antd';
import { deepClone } from '../utils/DeepClone';

interface User {
  id: string;
  name: string;
  age: number;
  address: {
    city: string;
    district: string;
  };
  tags: string[];
}

const defaultUser: User = {
  id: '',
  name: '',
  age: 0,
  address: {
    city: 'åŒ—äº¬',
    district: '',
  },
  tags: [],
};

export const UserEditor: React.FC = () => {
  const [user, setUser] = useState<User>(defaultUser);
  const [originalUser, setOriginalUser] = useState<User | null>(null);
  
  // å¼€å§‹ç¼–è¾‘ï¼šå¤åˆ¶åŸå¯¹è±¡
  const handleStartEdit = (userData: User) => {
    setOriginalUser(deepClone(userData));  // æ·±æ‹·è´ï¼Œä¸å½±å“åŸå¯¹è±¡
    setUser(deepClone(userData));
  };
  
  // å–æ¶ˆç¼–è¾‘ï¼šæ¢å¤åŸå¯¹è±¡
  const handleCancel = () => {
    if (originalUser) {
      setUser(deepClone(originalUser));  // æ¢å¤
    }
  };
  
  // ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼ˆä¸ä¼šå½±å“ originalUserï¼‰
  const handleChange = (field: keyof User, value: any) => {
    setUser(prev => {
      const newUser = deepClone(prev);  // æ·±æ‹·è´ï¼Œé¿å…ç›´æ¥ä¿®æ”¹ state
      (newUser as any)[field] = value;
      return newUser;
    });
  };
  
  // ä¿®æ”¹åµŒå¥—å±æ€§
  const handleAddressChange = (field: 'city' | 'district', value: string) => {
    setUser(prev => {
      const newUser = deepClone(prev);
      newUser.address[field] = value;  // å®‰å…¨ä¿®æ”¹ï¼Œä¸ä¼šå½±å“åŸå¯¹è±¡
      return newUser;
    });
  };
  
  return (
    <Form>
      <Form.Item label="å§“å">
        <Input
          value={user.name}
          onChange={(e) => handleChange('name', e.target.value)}
        />
      </Form.Item>
      <Form.Item label="åŸå¸‚">
        <Input
          value={user.address.city}
          onChange={(e) => handleAddressChange('city', e.target.value)}
        />
      </Form.Item>
      <Button onClick={handleCancel}>å–æ¶ˆ</Button>
    </Form>
  );
};
```

---

### ğŸ”§ å‰ç«¯å®æˆ˜æ¡ˆä¾‹ä¸‰ï¼šè¡¨æ ¼è¡Œæ•°æ®åŸå‹

#### åœºæ™¯æè¿°

åˆ›å»ºè¡¨æ ¼è¡Œæ•°æ®çš„åŸå‹æ¨¡æ¿ï¼Œæ–°å¢è¡Œæ—¶åŸºäºæ¨¡æ¿å¤åˆ¶ã€‚

```tsx
// prototypes/TableRowPrototype.ts

/**
 * è¡¨æ ¼è¡Œæ•°æ®åŸå‹ç®¡ç†å™¨
 * 
 * æä¾›è¡Œæ•°æ®æ¨¡æ¿å’Œå…‹éš†æ–¹æ³•
 */
export class TableRowPrototype {
  /**
   * åˆ›å»ºæ–°è¡Œï¼ˆåŸºäºæ¨¡æ¿ï¼‰
   */
  static createRow<T extends Record<string, any>>(
    template: T,
    overrides?: Partial<T>
  ): T {
    return {
      ...deepClone(template),
      ...overrides,
    };
  }
  
  /**
   * æ‰¹é‡åˆ›å»ºè¡Œ
   */
  static createRows<T extends Record<string, any>>(
    template: T,
    count: number,
    generator?: (index: number) => Partial<T>
  ): T[] {
    return Array.from({ length: count }, (_, index) => {
      const overrides = generator ? generator(index) : {};
      return TableRowPrototype.createRow(template, overrides);
    });
  }
  
  /**
   * å…‹éš†è¡Œï¼ˆæ·±æ‹·è´ï¼‰
   */
  static cloneRow<T extends Record<string, any>>(row: T): T {
    return deepClone(row);
  }
  
  /**
   * æ‰¹é‡å…‹éš†è¡Œ
   */
  static cloneRows<T extends Record<string, any>>(rows: T[]): T[] {
    return rows.map(row => TableRowPrototype.cloneRow(row));
  }
}

// å¯¼å…¥æ·±æ‹·è´å·¥å…·
import { deepClone } from '../utils/DeepClone';
```

#### ä¸šåŠ¡ä¸­ä½¿ç”¨

```tsx
// pages/UserList.tsx

import React, { useState } from 'react';
import { Table, Button } from 'antd';
import { TableRowPrototype } from '../prototypes/TableRowPrototype';

interface UserRow {
  id: string;
  name: string;
  email: string;
  phone: string;
  status: 'active' | 'inactive';
  createdAt: Date;
  updatedAt: Date;
  metadata: {
    source: string;
    tags: string[];
  };
}

// å®šä¹‰è¡Œæ•°æ®æ¨¡æ¿
const userRowTemplate: UserRow = {
  id: '',
  name: '',
  email: '',
  phone: '',
  status: 'active',
  createdAt: new Date(),
  updatedAt: new Date(),
  metadata: {
    source: 'manual',
    tags: [],
  },
};

export const UserList: React.FC = () => {
  const [rows, setRows] = useState<UserRow[]>([]);
  
  // âœ… åŸºäºæ¨¡æ¿åˆ›å»ºæ–°è¡Œ
  const handleAddRow = () => {
    const newRow = TableRowPrototype.createRow(userRowTemplate, {
      id: generateId(),
      createdAt: new Date(),
      updatedAt: new Date(),
    });
    
    setRows([...rows, newRow]);
  };
  
  // âœ… æ‰¹é‡åˆ›å»ºè¡Œ
  const handleBatchAdd = () => {
    const newRows = TableRowPrototype.createRows(
      userRowTemplate,
      5,
      (index) => ({
        id: generateId(),
        name: `ç”¨æˆ· ${index + 1}`,
        createdAt: new Date(),
        updatedAt: new Date(),
      })
    );
    
    setRows([...rows, ...newRows]);
  };
  
  // âœ… å¤åˆ¶é€‰ä¸­è¡Œ
  const handleDuplicateRow = (row: UserRow) => {
    const cloned = TableRowPrototype.cloneRow(row);
    cloned.id = generateId();
    cloned.name = `${cloned.name} (å‰¯æœ¬)`;
    cloned.createdAt = new Date();
    cloned.updatedAt = new Date();
    
    setRows([...rows, cloned]);
  };
  
  return (
    <div>
      <Button onClick={handleAddRow}>æ–°å¢è¡Œ</Button>
      <Button onClick={handleBatchAdd}>æ‰¹é‡æ–°å¢</Button>
      
      <Table
        dataSource={rows}
        columns={[
          { title: 'ID', dataIndex: 'id' },
          { title: 'å§“å', dataIndex: 'name' },
          { title: 'é‚®ç®±', dataIndex: 'email' },
          {
            title: 'æ“ä½œ',
            render: (_, record) => (
              <Button onClick={() => handleDuplicateRow(record)}>
                å¤åˆ¶
              </Button>
            ),
          },
        ]}
      />
    </div>
  );
};

function generateId(): string {
  return `id_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
}
```

---

### ğŸ”§ å‰ç«¯å®æˆ˜æ¡ˆä¾‹å››ï¼šå›¾è¡¨é…ç½®åŸå‹

#### åœºæ™¯æè¿°

åˆ›å»ºå›¾è¡¨é…ç½®çš„åŸå‹æ¨¡æ¿ï¼Œæ”¯æŒå¿«é€Ÿåˆ›å»ºç›¸ä¼¼æ ·å¼çš„å›¾è¡¨ã€‚

```tsx
// prototypes/ChartConfigPrototype.ts

import { EChartsOption } from 'echarts';

/**
 * å›¾è¡¨é…ç½®åŸå‹ç®¡ç†å™¨
 */
export class ChartConfigPrototype {
  /**
   * é»˜è®¤æŠ˜çº¿å›¾é…ç½®æ¨¡æ¿
   */
  static readonly LINE_CHART: EChartsOption = {
    tooltip: {
      trigger: 'axis',
    },
    legend: {
      data: [],
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true,
    },
    xAxis: {
      type: 'category',
      boundaryGap: false,
      data: [],
    },
    yAxis: {
      type: 'value',
    },
    series: [],
  };
  
  /**
   * é»˜è®¤æŸ±çŠ¶å›¾é…ç½®æ¨¡æ¿
   */
  static readonly BAR_CHART: EChartsOption = {
    tooltip: {
      trigger: 'axis',
      axisPointer: {
        type: 'shadow',
      },
    },
    legend: {
      data: [],
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true,
    },
    xAxis: {
      type: 'category',
      data: [],
    },
    yAxis: {
      type: 'value',
    },
    series: [],
  };
  
  /**
   * é»˜è®¤é¥¼å›¾é…ç½®æ¨¡æ¿
   */
  static readonly PIE_CHART: EChartsOption = {
    tooltip: {
      trigger: 'item',
    },
    legend: {
      orient: 'vertical',
      left: 'left',
    },
    series: [
      {
        type: 'pie',
        radius: '50%',
        data: [],
        emphasis: {
          itemStyle: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)',
          },
        },
      },
    ],
  };
  
  /**
   * åŸºäºæ¨¡æ¿åˆ›å»ºå›¾è¡¨é…ç½®
   */
  static createFrom(
    template: EChartsOption,
    overrides?: Partial<EChartsOption>
  ): EChartsOption {
    return deepMerge(template, overrides || {});
  }
  
  /**
   * åˆ›å»ºå¸¦æ•°æ®çš„å›¾è¡¨é…ç½®
   */
  static createWithData(
    template: EChartsOption,
    data: {
      xAxisData?: string[];
      seriesData?: any[];
      legendData?: string[];
    }
  ): EChartsOption {
    const config = deepClone(template);
    
    if (data.xAxisData && config.xAxis) {
      (config.xAxis as any).data = data.xAxisData;
    }
    
    if (data.seriesData && config.series) {
      (config.series as any[]).forEach((series, index) => {
        if (data.seriesData![index]) {
          series.data = data.seriesData![index];
        }
      });
    }
    
    if (data.legendData && config.legend) {
      (config.legend as any).data = data.legendData;
    }
    
    return config;
  }
}

// æ·±åº¦åˆå¹¶å·¥å…·ï¼ˆç®€åŒ–ç‰ˆï¼‰
function deepMerge(target: any, source: any): any {
  const output = { ...target };
  
  if (isObject(target) && isObject(source)) {
    Object.keys(source).forEach(key => {
      if (isObject(source[key])) {
        if (!(key in target)) {
          Object.assign(output, { [key]: source[key] });
        } else {
          output[key] = deepMerge(target[key], source[key]);
        }
      } else {
        Object.assign(output, { [key]: source[key] });
      }
    });
  }
  
  return output;
}

function isObject(item: any): boolean {
  return item && typeof item === 'object' && !Array.isArray(item);
}

import { deepClone } from '../utils/DeepClone';
```

#### ä¸šåŠ¡ä¸­ä½¿ç”¨

```tsx
// components/SalesChart.tsx

import React from 'react';
import ReactECharts from 'echarts-for-react';
import { ChartConfigPrototype } from '../prototypes/ChartConfigPrototype';

export const SalesChart: React.FC = () => {
  // âœ… åŸºäºæŠ˜çº¿å›¾æ¨¡æ¿åˆ›å»º
  const config = ChartConfigPrototype.createWithData(
    ChartConfigPrototype.LINE_CHART,
    {
      xAxisData: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
      seriesData: [
        {
          name: 'é”€å”®é¢',
          type: 'line',
          data: [120, 132, 101, 134, 90, 230],
        },
      ],
      legendData: ['é”€å”®é¢'],
    }
  );
  
  return <ReactECharts option={config} />;
};

// components/ProductChart.tsx

import React from 'react';
import ReactECharts from 'echarts-for-react';
import { ChartConfigPrototype } from '../prototypes/ChartConfigPrototype';

export const ProductChart: React.FC = () => {
  // âœ… åŸºäºæŸ±çŠ¶å›¾æ¨¡æ¿åˆ›å»ºï¼Œåªè¦†ç›–é¢œè‰²
  const config = ChartConfigPrototype.createFrom(
    ChartConfigPrototype.BAR_CHART,
    {
      color: ['#5470c6', '#91cc75', '#fac858'],
    }
  );
  
  // ç„¶åè®¾ç½®æ•°æ®...
  
  return <ReactECharts option={config} />;
};
```

---

### ğŸ”§ å‰ç«¯å®æˆ˜æ¡ˆä¾‹äº”ï¼šæ’¤é”€/é‡åšåŠŸèƒ½

#### åœºæ™¯æè¿°

ä½¿ç”¨åŸå‹æ¨¡å¼å®ç°æ’¤é”€/é‡åšåŠŸèƒ½ï¼Œé€šè¿‡ä¿å­˜å¯¹è±¡å¿«ç…§æ¥æ¢å¤çŠ¶æ€ã€‚

```tsx
// utils/UndoRedoManager.ts

/**
 * æ’¤é”€/é‡åšç®¡ç†å™¨
 * 
 * ä½¿ç”¨åŸå‹æ¨¡å¼ä¿å­˜å¯¹è±¡å¿«ç…§
 */
export class UndoRedoManager<T> {
  private history: T[] = [];
  private currentIndex = -1;
  private maxHistorySize = 50;
  
  /**
   * ä¿å­˜å½“å‰çŠ¶æ€ï¼ˆåˆ›å»ºå¿«ç…§ï¼‰
   */
  save(state: T): void {
    // å¦‚æœå½“å‰ä½ç½®ä¸åœ¨æœ€åï¼Œåˆ é™¤åé¢çš„å†å²è®°å½•
    if (this.currentIndex < this.history.length - 1) {
      this.history = this.history.slice(0, this.currentIndex + 1);
    }
    
    // æ·»åŠ æ–°å¿«ç…§ï¼ˆæ·±æ‹·è´ï¼‰
    this.history.push(deepClone(state));
    this.currentIndex++;
    
    // é™åˆ¶å†å²è®°å½•æ•°é‡
    if (this.history.length > this.maxHistorySize) {
      this.history.shift();
      this.currentIndex--;
    }
  }
  
  /**
   * æ’¤é”€
   */
  undo(): T | null {
    if (!this.canUndo()) {
      return null;
    }
    
    this.currentIndex--;
    return deepClone(this.history[this.currentIndex]);
  }
  
  /**
   * é‡åš
   */
  redo(): T | null {
    if (!this.canRedo()) {
      return null;
    }
    
    this.currentIndex++;
    return deepClone(this.history[this.currentIndex]);
  }
  
  /**
   * æ˜¯å¦å¯ä»¥æ’¤é”€
   */
  canUndo(): boolean {
    return this.currentIndex > 0;
  }
  
  /**
   * æ˜¯å¦å¯ä»¥é‡åš
   */
  canRedo(): boolean {
    return this.currentIndex < this.history.length - 1;
  }
  
  /**
   * æ¸…ç©ºå†å²è®°å½•
   */
  clear(): void {
    this.history = [];
    this.currentIndex = -1;
  }
  
  /**
   * è·å–å†å²è®°å½•æ•°é‡
   */
  getHistoryCount(): number {
    return this.history.length;
  }
}

import { deepClone } from './DeepClone';
```

#### åœ¨è¡¨å•ç¼–è¾‘å™¨ä¸­ä½¿ç”¨

```tsx
// components/FormEditor.tsx

import React, { useState, useRef } from 'react';
import { Form, Input, Button } from 'antd';
import { UndoRedoManager } from '../utils/UndoRedoManager';

interface FormData {
  title: string;
  description: string;
  fields: Array<{ name: string; type: string }>;
}

export const FormEditor: React.FC = () => {
  const [formData, setFormData] = useState<FormData>({
    title: '',
    description: '',
    fields: [],
  });
  
  const undoRedoManager = useRef(new UndoRedoManager<FormData>());
  
  // åˆå§‹åŒ–æ—¶ä¿å­˜ç¬¬ä¸€ä¸ªå¿«ç…§
  React.useEffect(() => {
    undoRedoManager.current.save(formData);
  }, []);
  
  // ä¿®æ”¹è¡¨å•æ•°æ®
  const handleChange = (field: keyof FormData, value: any) => {
    const newData = { ...formData, [field]: value };
    setFormData(newData);
    
    // ä¿å­˜å¿«ç…§
    undoRedoManager.current.save(newData);
  };
  
  // æ’¤é”€
  const handleUndo = () => {
    const previousState = undoRedoManager.current.undo();
    if (previousState) {
      setFormData(previousState);
    }
  };
  
  // é‡åš
  const handleRedo = () => {
    const nextState = undoRedoManager.current.redo();
    if (nextState) {
      setFormData(nextState);
    }
  };
  
  return (
    <div>
      <div style={{ marginBottom: 16 }}>
        <Button
          onClick={handleUndo}
          disabled={!undoRedoManager.current.canUndo()}
        >
          æ’¤é”€
        </Button>
        <Button
          onClick={handleRedo}
          disabled={!undoRedoManager.current.canRedo()}
          style={{ marginLeft: 8 }}
        >
          é‡åš
        </Button>
      </div>
      
      <Form>
        <Form.Item label="æ ‡é¢˜">
          <Input
            value={formData.title}
            onChange={(e) => handleChange('title', e.target.value)}
          />
        </Form.Item>
        <Form.Item label="æè¿°">
          <Input
            value={formData.description}
            onChange={(e) => handleChange('description', e.target.value)}
          />
        </Form.Item>
      </Form>
    </div>
  );
};
```

---

### ğŸ“Š æ¨¡å¼æ€»ç»“

#### âœ… ä¼˜ç‚¹

| ä¼˜ç‚¹ | è¯´æ˜ |
|------|------|
| **å‡å°‘é‡å¤ä»£ç ** | åŸºäºæ¨¡æ¿å¤åˆ¶ï¼Œé¿å…é‡å¤æ„å»º |
| **æ€§èƒ½ä¼˜åŒ–** | å¤åˆ¶æ¯”é‡æ–°æ„å»ºæ›´å¿« |
| **æ˜“äºç»´æŠ¤** | ä¿®æ”¹æ¨¡æ¿ï¼Œæ‰€æœ‰åŸºäºå®ƒçš„å¯¹è±¡éƒ½ä¼šæ›´æ–° |
| **ä¿æŠ¤åŸå¯¹è±¡** | æ·±æ‹·è´é¿å…ä¿®æ”¹åŸå¯¹è±¡ |
| **æ”¯æŒæ’¤é”€/é‡åš** | é€šè¿‡å¿«ç…§å®ç°çŠ¶æ€æ¢å¤ |

#### âŒ ç¼ºç‚¹

| ç¼ºç‚¹ | è¯´æ˜ |
|------|------|
| **æ·±æ‹·è´æ€§èƒ½** | å¤æ‚å¯¹è±¡æ·±æ‹·è´å¯èƒ½è¾ƒæ…¢ |
| **å†…å­˜å ç”¨** | ä¿å­˜å¤šä¸ªå‰¯æœ¬å ç”¨å†…å­˜ |
| **å¾ªç¯å¼•ç”¨** | éœ€è¦ç‰¹æ®Šå¤„ç†å¾ªç¯å¼•ç”¨ |
| **åŸå‹æ±¡æŸ“** | ä¿®æ”¹åŸå‹ä¼šå½±å“æ‰€æœ‰å®ä¾‹ï¼ˆJavaScript ç‰¹æ€§ï¼‰ |

#### ğŸ¯ é€‚ç”¨åœºæ™¯

| åœºæ™¯ | ç¤ºä¾‹ |
|------|------|
| **é…ç½®æ¨¡æ¿** | è¡¨å•é…ç½®ã€å›¾è¡¨é…ç½®ã€ç»„ä»¶é…ç½® |
| **æ•°æ®å¯¹è±¡å…‹éš†** | ç¼–è¾‘å‰å¤åˆ¶ã€é¿å…ä¿®æ”¹åŸå¯¹è±¡ |
| **è¡¨æ ¼è¡Œæ¨¡æ¿** | æ–°å¢è¡Œæ—¶åŸºäºæ¨¡æ¿å¤åˆ¶ |
| **æ’¤é”€/é‡åš** | ä¿å­˜å¯¹è±¡å¿«ç…§ |
| **æ‰¹é‡åˆ›å»º** | åŸºäºæ¨¡æ¿æ‰¹é‡åˆ›å»ºç›¸ä¼¼å¯¹è±¡ |

#### ğŸš« ä¸é€‚ç”¨åœºæ™¯

- å¯¹è±¡ç»“æ„ç®€å•ï¼Œç›´æ¥åˆ›å»ºæ›´å¿«
- ä¸éœ€è¦ä¿æŠ¤åŸå¯¹è±¡ï¼ˆæµ…æ‹·è´è¶³å¤Ÿï¼‰
- æ€§èƒ½æ•æ„Ÿåœºæ™¯ï¼Œæ·±æ‹·è´å¼€é”€å¤ªå¤§

---

### ğŸ”„ JavaScript ä¸­çš„åŸå‹

JavaScript æœ¬èº«å°±æ˜¯åŸºäºåŸå‹çš„è¯­è¨€ï¼Œç†è§£åŸå‹é“¾æœ‰åŠ©äºæ›´å¥½åœ°ä½¿ç”¨åŸå‹æ¨¡å¼ï¼š

```tsx
// åŸå‹é“¾ç¤ºä¾‹
function User(name: string) {
  this.name = name;
}

User.prototype.sayHello = function() {
  console.log(`Hello, I'm ${this.name}`);
};

const user1 = new User('å¼ ä¸‰');
const user2 = new User('æå››');

// user1 å’Œ user2 å…±äº«åŒä¸€ä¸ªåŸå‹æ–¹æ³•
console.log(user1.sayHello === user2.sayHello);  // true

// ä¿®æ”¹åŸå‹ï¼Œæ‰€æœ‰å®ä¾‹éƒ½å—å½±å“
User.prototype.sayHello = function() {
  console.log(`Hi, ${this.name}!`);
};

user1.sayHello();  // "Hi, å¼ ä¸‰!"
user2.sayHello();  // "Hi, æå››!"
```

**ç°ä»£ JavaScript ä¸­çš„åŸå‹æ¨¡å¼ï¼š**

```tsx
// ä½¿ç”¨ Object.create() åŸºäºåŸå‹åˆ›å»ºå¯¹è±¡
const userPrototype = {
  sayHello() {
    console.log(`Hello, I'm ${this.name}`);
  },
};

const user1 = Object.create(userPrototype);
user1.name = 'å¼ ä¸‰';

const user2 = Object.create(userPrototype);
user2.name = 'æå››';

// ä½¿ç”¨ class è¯­æ³•ï¼ˆåº•å±‚è¿˜æ˜¯åŸå‹ï¼‰
class User {
  constructor(public name: string) {}
  
  sayHello() {
    console.log(`Hello, I'm ${this.name}`);
  }
}
```

---

### ğŸ¤” é€‰æ‹©å»ºè®®ï¼šä»€ä¹ˆæ—¶å€™ç”¨åŸå‹æ¨¡å¼ï¼Ÿ

é—®è‡ªå·±è¿™å‡ ä¸ªé—®é¢˜ï¼š

```
1. ä½ æ˜¯å¦éœ€è¦åˆ›å»ºå¤šä¸ªç»“æ„ç›¸ä¼¼çš„å¯¹è±¡ï¼Ÿ
   â†’ æ˜¯çš„è¯ï¼Œè€ƒè™‘åŸå‹æ¨¡å¼

2. åˆ›å»ºå¯¹è±¡çš„æˆæœ¬æ˜¯å¦è¾ƒé«˜ï¼ˆå¤æ‚é…ç½®ã€å¤§é‡å±æ€§ï¼‰ï¼Ÿ
   â†’ æ˜¯çš„è¯ï¼Œè€ƒè™‘åŸå‹æ¨¡å¼ï¼ˆå¤åˆ¶æ¯”æ„å»ºå¿«ï¼‰

3. ä½ æ˜¯å¦éœ€è¦ä¿æŠ¤åŸå¯¹è±¡ä¸è¢«ä¿®æ”¹ï¼Ÿ
   â†’ æ˜¯çš„è¯ï¼Œè€ƒè™‘åŸå‹æ¨¡å¼ï¼ˆæ·±æ‹·è´ï¼‰

4. ä½ æ˜¯å¦éœ€è¦æ”¯æŒæ’¤é”€/é‡åšåŠŸèƒ½ï¼Ÿ
   â†’ æ˜¯çš„è¯ï¼Œè€ƒè™‘åŸå‹æ¨¡å¼ï¼ˆä¿å­˜å¿«ç…§ï¼‰

5. ä½ çš„å¯¹è±¡æ˜¯å¦åŒ…å«åµŒå¥—ç»“æ„ï¼Ÿ
   â†’ å¦‚æœæ˜¯ï¼Œå¿…é¡»ç”¨æ·±æ‹·è´ï¼Œå¦åˆ™ç”¨æµ…æ‹·è´å³å¯
```

---

### ğŸ“ æ–‡ä»¶ç»“æ„å‚è€ƒ

```
src/
â”œâ”€â”€ prototypes/
â”‚   â”œâ”€â”€ FormConfigPrototype.ts     # è¡¨å•é…ç½®åŸå‹
â”‚   â”œâ”€â”€ TableRowPrototype.ts       # è¡¨æ ¼è¡ŒåŸå‹
â”‚   â””â”€â”€ ChartConfigPrototype.ts    # å›¾è¡¨é…ç½®åŸå‹
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ DeepClone.ts               # æ·±æ‹·è´å·¥å…·
â”‚   â””â”€â”€ UndoRedoManager.ts         # æ’¤é”€/é‡åšç®¡ç†å™¨
â””â”€â”€ components/
    â”œâ”€â”€ UserForm.tsx               # ä½¿ç”¨è¡¨å•åŸå‹
    â”œâ”€â”€ UserList.tsx               # ä½¿ç”¨è¡¨æ ¼è¡ŒåŸå‹
    â””â”€â”€ FormEditor.tsx             # ä½¿ç”¨æ’¤é”€/é‡åš
```

---

> **ä¸‹ä¸€ç« é¢„å‘Šï¼šã€Šè§‚å¯Ÿè€…æ¨¡å¼ã€‹â€”â€” åˆ« Call æˆ‘ï¼Œæœ‰äº‹æˆ‘ä¼šé€šçŸ¥ä½ **
> 
> æˆ‘ä»¬å°†è®²è§£å¦‚ä½•å®ç°äº‹ä»¶æ€»çº¿ã€çŠ¶æ€è®¢é˜…ã€è·¨ç»„ä»¶é€šä¿¡ç­‰åœºæ™¯ã€‚

---

*å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿äº¤æµï¼*

